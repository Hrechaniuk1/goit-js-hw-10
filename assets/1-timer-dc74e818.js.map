{"version":3,"file":"1-timer-dc74e818.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport iziToast from \"izitoast\"\n\nconst buttonCalendar = document.querySelector(\"button[data-start]\")\nconst inputCalendar = document.querySelector(\"#datetime-picker\")\nconst daysToHTML = document.querySelector(\"[data-days]\")\n  const hoursToHTML = document.querySelector(\"[data-hours]\")\n  const minutesToHTML = document.querySelector(\"[data-minutes]\")\n  const secondsToHTML = document.querySelector(\"[data-seconds]\")\n\nbuttonCalendar.disabled = true\n\nlet userSelectedDate \n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n      if (selectedDates[0] <= options.defaultDate) {\n        iziToast.show({\n    title: '',\n    message: 'Please choose a date in the future'\n});\n        buttonCalendar.disabled = true\n        } else {\n        buttonCalendar.disabled = false\n        userSelectedDate = selectedDates[0]\n        }\n      console.log(selectedDates[0]);\n  },\n};\n\nflatpickr(inputCalendar, options);\n\n// listener\n\nbuttonCalendar.addEventListener(\"click\", doCount)\n\n\nfunction doCount() {\n  inputCalendar.disabled = true\n  buttonCalendar.disabled = true\n  const timeCount = setInterval(() => {\n        const currentDate = Date.now()\n    const ms = userSelectedDate - currentDate\n    const difference = convertMs(ms)\n    const result = addLeadingZero(difference)\n    daysToHTML.textContent = result[0];\n    hoursToHTML.textContent = result[1];\n    minutesToHTML.textContent = result[2];\n    secondsToHTML.textContent = result[3];\n    \n    if ((daysToHTML.textContent === \"00\") && (hoursToHTML.textContent === \"00\") && (minutesToHTML.textContent === \"00\") && (secondsToHTML.textContent === \"00\")) {\n      clearInterval(timeCount)\n      inputCalendar.disabled = false\n      buttonCalendar.disabled = true\n    }\n  }, 1000)\n  \n}\n\nfunction addLeadingZero(value) {\n  const result = [value.days.toString().padStart(2, \"0\"), value.hours.toString().padStart(2, \"0\"), value.minutes.toString().padStart(2, \"0\"), value.seconds.toString().padStart(2, \"0\")]\n  return result\n}\n\n\n  function convertMs(ms) {\n\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n\n  const days = Math.floor(ms / day);\n\n  const hours = Math.floor((ms % day) / hour);\n\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n"],"names":["buttonCalendar","inputCalendar","daysToHTML","hoursToHTML","minutesToHTML","secondsToHTML","userSelectedDate","options","selectedDates","iziToast","flatpickr","doCount","timeCount","currentDate","ms","difference","convertMs","result","addLeadingZero","value","days","hours","minutes","seconds"],"mappings":"gDAGA,MAAMA,EAAiB,SAAS,cAAc,oBAAoB,EAC5DC,EAAgB,SAAS,cAAc,kBAAkB,EACzDC,EAAa,SAAS,cAAc,aAAa,EAC/CC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAgB,SAAS,cAAc,gBAAgB,EACvDC,EAAgB,SAAS,cAAc,gBAAgB,EAE/DL,EAAe,SAAW,GAE1B,IAAIM,EAEJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CACjBA,EAAc,CAAC,GAAKD,EAAQ,aAC9BE,EAAS,KAAK,CAClB,MAAO,GACP,QAAS,oCACb,CAAC,EACOT,EAAe,SAAW,KAE1BA,EAAe,SAAW,GAC1BM,EAAmBE,EAAc,CAAC,GAEpC,QAAQ,IAAIA,EAAc,CAAC,CAAC,CAC/B,CACH,EAEAE,EAAUT,EAAeM,CAAO,EAIhCP,EAAe,iBAAiB,QAASW,CAAO,EAGhD,SAASA,GAAU,CACjBV,EAAc,SAAW,GACzBD,EAAe,SAAW,GAC1B,MAAMY,EAAY,YAAY,IAAM,CAC9B,MAAMC,EAAc,KAAK,IAAK,EAC5BC,EAAKR,EAAmBO,EACxBE,EAAaC,EAAUF,CAAE,EACzBG,EAASC,EAAeH,CAAU,EACxCb,EAAW,YAAce,EAAO,CAAC,EACjCd,EAAY,YAAcc,EAAO,CAAC,EAClCb,EAAc,YAAca,EAAO,CAAC,EACpCZ,EAAc,YAAcY,EAAO,CAAC,EAE/Bf,EAAW,cAAgB,MAAUC,EAAY,cAAgB,MAAUC,EAAc,cAAgB,MAAUC,EAAc,cAAgB,OACpJ,cAAcO,CAAS,EACvBX,EAAc,SAAW,GACzBD,EAAe,SAAW,GAE7B,EAAE,GAAI,CAET,CAEA,SAASkB,EAAeC,EAAO,CAE7B,MADe,CAACA,EAAM,KAAK,SAAU,EAAC,SAAS,EAAG,GAAG,EAAGA,EAAM,MAAM,SAAU,EAAC,SAAS,EAAG,GAAG,EAAGA,EAAM,QAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,EAAGA,EAAM,QAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,CAAC,CAEvL,CAGE,SAASH,EAAUF,EAAI,CAQvB,MAAMM,EAAO,KAAK,MAAMN,EAAK,KAAG,EAE1BO,EAAQ,KAAK,MAAOP,EAAK,MAAO,IAAI,EAEpCQ,EAAU,KAAK,MAAQR,EAAK,MAAO,KAAQ,GAAM,EAEjDS,EAAU,KAAK,MAAST,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAM,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}